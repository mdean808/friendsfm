<script lang="ts">
  import Loading from '$components/Loading.svelte';
  import { getCurrentAudial, audialTracks, audialAnswer } from '$lib/audial';
  import { insets } from '$lib/device';
  import { onMount } from 'svelte';
  let loading = true;
  onMount(async () => {
    const { tracks, answer } = await getCurrentAudial();
    audialTracks.set(tracks);
    audialAnswer.set(answer);
  });
</script>

<div
  style={`height: calc(100vh - ${64 + $insets.bottom + $insets.top}px); padding-bottom: calc(70px + ${$insets.bottom}px)`}
  class="overflow-y-scroll"
>
  <div class="px-4">
    {#if loading}
      <Loading />
    {:else}
      <div class="max-w-screen-md mx-auto">
        <div class="text-center p-3"></div>
      </div>
    {/if}
  </div>
</div>
